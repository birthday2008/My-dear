<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจูุงุจุฉ ุงูุญุจ ุงูุณุฑูุฉ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="petals-container">
        <div class="petal">๐ธ</div><div class="petal">โค๏ธ</div><div class="petal">๐ธ</div><div class="petal">โค๏ธ</div>
    </div>

    <div class="container">
        <div id="countdown-card" class="card fade-in">
            <h1 class="title">ูุจุถ ููุจู ููุชุธุฑู...</h1>
            <div id="timer" class="timer">
                <div class="time-box"><span id="days">00</span><p>ุฃูุงู</p></div>
                <div class="time-box"><span id="hours">00</span><p>ุณุงุนุงุช</p></div>
                <div class="time-box"><span id="minutes">00</span><p>ุฏูุงุฆู</p></div>
                <div class="time-box"><span id="seconds">00</span><p>ุซูุงูู</p></div>
            </div>
            <p class="message">ุงูููุนุฏ: 18/12/2025 ุงูุณุงุนุฉ 00:00 </p>
        </div>

        <div id="quiz-card" class="card hidden">
            <h1 class="title">ุฃุซุจุชู ูููุชู ูุง ุฃููุฑุชู ๐</h1>
            <form id="quiz-form">
                <div class="input-group">
                    <label>ุชุงุฑูุฎ ุชุนุงุฑููุง :</label>
                    <div class="select-row">
                        <select id="sel-day" class="custom-select" required><option value="">ุงูููู</option></select>
                        <select id="sel-month" class="custom-select" required><option value="">ุงูุดูุฑ</option></select>
                        <select id="sel-year" class="custom-select" required><option value="">ุงูุณูุฉ</option></select>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>ุชูููุช ุชูู ุงููุญุธุฉ:</label>
                    <div class="select-row">
                        <select id="sel-hour" class="custom-select" required><option value="">ุณุงุนุฉ</option></select>
                        <select id="sel-min" class="custom-select" required><option value="">ุฏูููุฉ</option></select>
                    </div>
                </div>

                <div class="input-group">
                    <label>ุงูุฑูุฒ ุงูุฎุงุต ุจูุง:</label>
                    <input type="tel" id="answer-pin" class="custom-input" placeholder="ุงูุชุจู ุงูุฑูุฒ ููุง" maxlength="3" required>
                </div>
                <button type="submit" class="btn-submit">ูุชุญ ุงูุฑุณุงูุฉ     โค๏ธ </button>
            </form>
            <p id="error" class="error-msg"></p>
        </div>
    </div>

    <script>
        // ููุนุฏ ูุชุญ ุงููููุน (18 ุฏูุณูุจุฑ 2025 ุงูุณุงุนุฉ 15:05)
        const targetDate = new Date(2025, 11, 17, 23, 59, 59).getTime();

        const fillSelect = (id, start, end) => {
            const sel = document.getElementById(id);
            for(let i=start; i<=end; i++) {
                let val = i < 10 ? "0" + i : i;
                sel.innerHTML += `<option value="${i}">${val}</option>`;
            }
        };

        fillSelect('sel-day', 1, 31);
        fillSelect('sel-month', 1, 12);
        fillSelect('sel-year', 2020, 2025);
        fillSelect('sel-hour', 0, 23);
        fillSelect('sel-min', 0, 59);

        function updateTimer() {
            const now = new Date().getTime();
            const diff = targetDate - now;
            if (diff <= 0) {
                document.getElementById('countdown-card').classList.add('hidden');
                document.getElementById('quiz-card').classList.remove('hidden');
                clearInterval(timerInterval);
                return;
            }
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            document.getElementById('days').innerText = d;
            document.getElementById('hours').innerText = h;
            document.getElementById('minutes').innerText = m;
            document.getElementById('seconds').innerText = s;
        }
        const timerInterval = setInterval(updateTimer, 1000);
        updateTimer();

        document.getElementById('quiz-form').onsubmit = function(e) {
            e.preventDefault();
            
            // ุชุญูู ุงูุชุงุฑูุฎ (ููููู ุชุนุฏูู ุงูููู ููุง)
            const isDateCorrect = 
                document.getElementById('sel-day').value == "23" && 
                document.getElementById('sel-month').value == "8" && 
                document.getElementById('sel-year').value == "2024";
            
            // ุชุญูู ุงูููุช
            const isTimeCorrect = 
                document.getElementById('sel-hour').value == "1" && 
                document.getElementById('sel-min').value == "29";
            
            const pin = document.getElementById('answer-pin').value;

            // ุชู ุชุนุฏูู ุงูุฑูุฒ ุงูุณุฑู ุฅูู 134
            if(isDateCorrect && isTimeCorrect && pin === "84") {
                window.location.href = "messages.html";
            } else {
                document.getElementById('error').innerText = "ุจูุงูุงุช ุฎุงุทุฆุฉุ ุญุงููู ุซุงููุฉ ูุง ุฑูุญู";
            }
        };
    </script>
</body>
</html>
